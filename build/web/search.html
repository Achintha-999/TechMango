<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>TechMango - Search Products</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
        <link rel="stylesheet" href="assests/css/header.css">
        <link rel="stylesheet" href="assests/css/footer.css">
        <link rel="stylesheet" href="assests/css/search.css">
        <link rel="shortcut icon" type="image/x-icon" href="assests/images/logo.png">
        <style>
            #laptop-filters {
                display: none;
            }
        </style>


        <!-- Header -->
    <header class="main-header">
        <div class="top-bar">
            <div class="container">
                <div class="row">
                    <div class="col-md-6">
                        <p>Free Islandwide Delivery for Orders Over Rs. 200,000</p>
                    </div>
                    <div class="col-md-6 text-end">
                        <a href="#">Track Order</a>
                        <a href="#">Contact Us</a>
                    </div>
                </div>
            </div>
        </div>

        <nav class="navbar navbar-expand-lg">
            <div class="container">
                <a class="navbar-brand" href="index.html">
                    <img src="assests/images/logo.png" alt="TechMango Logo" height="40">
                </a>

                <div class="search-box">
                    <form class="d-flex">
                        <select class="form-select search-category">
                            <option>All Categories</option>
                            <option>Laptops</option>
                            <option>Desktops</option>
                            <option>Components</option>
                            <option>Accessories</option>
                        </select>
                        <input class="form-control search-input" type="search" placeholder="Search products...">
                        <button class="btn search-btn" type="submit">
                            <i class="fas fa-search"></i>
                        </button>
                    </form>
                </div>

                <div class="header-icons">
                    <a href="my-account.html" class="account-icon">
                        <i class="fas fa-user-circle"></i>
                        <span>My Account</span>
                    </a>
                    <a href="wishlist.html" class="wishlist-icon">
                        <i class="fas fa-heart"></i>

                    </a>
                    <a href="cart.html" class="cart-icon">
                        <i class="fas fa-shopping-cart"></i>

                        <h4><a href="sign-in.html">Sign In</a></h4>
                    </a>
                </div>
            </div>
        </nav>

        <div class="main-menu">
            <div class="container">
                <ul class="nav">
                    <li><a href="#">Home</a></li>
                    <li class="dropdown">
                        <a href="#">Laptops <i class="fas fa-chevron-down"></i></a>
                        <div class="dropdown-menu">
                            <a href="#">Gaming Laptops</a>
                            <a href="#">Business Laptops</a>
                            <a href="#">Ultrabooks</a>
                        </div>
                    </li>
                    <li class="dropdown">
                        <a href="#">Desktops <i class="fas fa-chevron-down"></i></a>
                        <div class="dropdown-menu">
                            <a href="#">Gaming PCs</a>
                            <a href="#">Workstations</a>
                            <a href="#">All-in-One</a>
                        </div>
                    </li>
                    <li><a href="#">Components</a></li>
                    <li><a href="#">Accessories</a></li>
                    <li><a href="#">Deals</a></li>
                </ul>
            </div>
        </div>
    </header>

    <body onload="loadData();">
        <div class="search-container">
            <!-- Filters Section -->
            <div class="filters-section">
                <div class="filter-group">
                    <h3>CATEGORY</h3>
                    <div class="filter-options" id="category-options">
                        <!-- JS will inject brand options here -->
                    </div>
                </div>

                <div class="filter-group">
                    <h3>BRAND</h3>
                    <div class="filter-options" id="brand-options">
                        <!-- JS will inject brand options here -->
                    </div>
                </div>


                <div class="filter-group">
                    <h3>CONDITION</h3>
                    <div class="filter-options" id="condition-options">
                        <!-- JS will inject brand options here -->
                    </div>
                </div>

                <!-- Laptop/Desktop Specific Filters -->
                <div id="laptop-filters" class="laptop-filters">
                    <div class="filter-group">
                        <h3>RAM</h3>
                        <div class="filter-options" id="ram-options">
                        </div>
                    </div>

                    <div class="filter-group">
                        <h3>PROCESSOR</h3>
                        <div class="filter-options" id="processor-options">

                        </div>
                    </div>

                    <div class="filter-group">
                        <h3>GRAPHICS</h3>
                        <div class="filter-options" id="graphic-options">

                        </div>
                    </div>

                    <div class="filter-group">
                        <h3>STORAGE</h3>

                        <div class="filter-options" id="storage-options">
                        </div>
                    </div>

                    <div class="filter-group">
                        <h3>COLOR</h3>

                        <div class="filter-options" id="color-options">
                        </div>
                    </div>

                </div>


                <div class="filter-group">
                    <h3>PRICE</h3>
                    <div class="price-slider-container">
                        <div class="price-display">
                            <span id="min-price-display">Rs. 194,643</span>
                            <span id="max-price-display">Rs. 1,000,000</span>
                        </div>
                        <div class="slider-wrapper">
                            <div class="slider-track"></div>
                            <input type="range" class="range-slider" id="min-slider" min="0" max="1000000" value="0" step="1000">
                            <input type="range" class="range-slider" id="max-slider" min="0" max="1000000" value="1000000" step="1000">
                        </div>
                    </div>
                </div>

                <div class="buttons">
                    <button class="apply-btn" onclick="searchProduct(0);">Apply</button>
                    <button class="reset-btn" onclick="resetAllFilters()">Reset All</button>
                </div>
            </div>

            <!-- Results Section -->
            <div class="results-section">
                <div class="results-header">
                    <div class="results-count">Showing 1â€“10 of <span id="all-item-count"></span> results</div>
                    <select class="sort-dropdown" id="st-sort">
                        <option>Sort by Latest</option>
                        <option>Sort by Oldest</option>
                        <option>Sort by Name</option>
                        <option>Sort by Price</option>
                    </select>
                </div>
                <div class="products-grid" id="st-product-container">
                    <!-- Product Card 1 -->
                    <div class="product-card template-card" id="st-product" >
                        <div class="product-thumb">
                            <a href="#" class="st-product-link">
                                <img src="assets/images/product/product-01.png" alt="Product Images" class="st-product-img">
                            </a>
                        </div>
                        <div class="product-title st-product-title">MacBook Pro 14" 2023</div>

                        <div class="product-price">Rs. <span class="st-product-price">350,000.00</span></div>

                        <div class="product-bottom">
                            <a href="#" class="btn btn-sm btn-outline-secondary st-product-add-to-cart">Add to Cart</a>
                            <a href="#" class="wishlist-btn"><i class="far fa-heart"></i></a>
                        </div>
                    </div>



                </div>



            <div class="pagination" id="st-pagination-container"></div>


            
            </div>
        </div>
        </br>

        <script>
            // Initialize by hiding laptop filters
            //            document.addEventListener('DOMContentLoaded', function () {
            //                document.getElementById('laptop-filters').style.display = 'none';
            //            });

            function applyFilters() {
                // In a real application, this would send filter data to the server
                // and update the results section with the filtered products
                alert('Filters applied! (This would load new results in a real app)');
            }
        </script>

        <!-- Footer -->
        <footer class="main-footer">
            <div class="footer-top">
                <div class="container">
                    <div class="row">
                        <div class="col-lg-3 col-md-6">
                            <div class="footer-widget">
                                <h3>About TechMango</h3>
                                <p>TechMango is Sri Lanka's premier computer shop offering the latest technology at competitive prices with exceptional customer service.</p>
                                <div class="social-links">
                                    <a href="#"><i class="fab fa-facebook-f"></i></a>
                                    <a href="#"><i class="fab fa-twitter"></i></a>
                                    <a href="#"><i class="fab fa-instagram"></i></a>
                                    <a href="#"><i class="fab fa-youtube"></i></a>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-3 col-md-6">
                            <div class="footer-widget">
                                <h3>Quick Links</h3>
                                <ul>
                                    <li><a href="index.html">Home</a></li>
                                    <li><a href="#">Shop</a></li>
                                    <li><a href="#">About Us</a></li>
                                    <li><a href="#">Contact Us</a></li>
                                    <li><a href="#">Blog</a></li>
                                </ul>
                            </div>
                        </div>
                        <div class="col-lg-3 col-md-6">
                            <div class="footer-widget">
                                <h3>Customer Service</h3>
                                <ul>
                                    <li><a href="account.html">My Account</a></li>
                                    <li><a href="#">Order Tracking</a></li>
                                    <li><a href="#">Returns & Exchanges</a></li>
                                    <li><a href="#">FAQs</a></li>
                                </ul>
                            </div>
                        </div>
                        <div class="col-lg-3 col-md-6">
                            <div class="footer-widget">
                                <h3>Contact Info</h3>
                                <ul class="contact-info">
                                    <li><i class="fas fa-map-marker-alt"></i> 123 Tech Street, Colombo 05, Sri Lanka</li>
                                    <li><i class="fas fa-phone"></i> +94 11 234 5678</li>
                                    <li><i class="fas fa-envelope"></i> info@techmango.lk</li>
                                    <li><i class="fas fa-clock"></i> Mon-Sat: 9:00 AM - 6:00 PM</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <div class="container">
                    <div class="row">
                        <div class="col-md-6">
                            <p>&copy; 2025 TechMango. All Rights Reserved.</p>
                        </div>
                        <div class="col-md-6">
                            <div class="payment-methods">
                                <img src="assests/images/visa.png" alt="Visa">
                                <img src="assests/images/mastercard.png" alt="Mastercard">
                                <img src="assests/images/amex.png" alt="American Express">
                                <img src="assests/images/paypal.png" alt="PayPal">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </footer>

        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
        <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
        <link href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css" rel="stylesheet">
        <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
        <script src="assests/js/search.js"></script>

        <script>
            document.addEventListener('DOMContentLoaded', function () {
                //    console.log('Script loaded'); // Verify script is running

                const minSlider = document.getElementById('min-slider');
                const maxSlider = document.getElementById('max-slider');
                const minPriceDisplay = document.getElementById('min-price-display');
                const maxPriceDisplay = document.getElementById('max-price-display');
                const sliderWrapper = document.querySelector('.slider-wrapper');

                // Verify elements exist
                if (!minSlider || !maxSlider || !minPriceDisplay || !maxPriceDisplay || !sliderWrapper) {
                    console.error('One or more elements not found!');
                    return;
                }

                function formatPrice(price) {
                    return 'Rs. ' + parseInt(price).toLocaleString('en-US');
                }

                function updateSlider() {
                    //       console.log('Updating slider...'); // Debug line

                    let minVal = parseInt(minSlider.value);
                    let maxVal = parseInt(maxSlider.value);

                    // Ensure min doesn't exceed max
                    if (minVal > maxVal) {
                        [minVal, maxVal] = [maxVal, minVal]; // Swap values
                        minSlider.value = minVal;
                        maxSlider.value = maxVal;
                    }

                    // Update displays
                    minPriceDisplay.textContent = formatPrice(minVal);
                    maxPriceDisplay.textContent = formatPrice(maxVal);

                    // Update slider track fill
                    const minPercent = (minVal / maxSlider.max) * 100;
                    const maxPercent = (maxVal / maxSlider.max) * 100;
                    sliderWrapper.style.setProperty('--left', minPercent + '%');
                    sliderWrapper.style.setProperty('--right', maxPercent + '%');
                }

                // Initialize
                updateSlider();

                // Add event listeners
                minSlider.addEventListener('input', updateSlider);
                maxSlider.addEventListener('input', updateSlider);

                // Debug: Log when event listeners are attached
                //            console.log('Event listeners attached');
            });
        </script>
    </body>
</html>